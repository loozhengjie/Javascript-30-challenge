<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio 💪</title>
  <link rel="icon" href="https://fav.farm/🔥" />
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> 💁</p>
  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 }
    ];

    const people = [
      'Bernhard, Sandra', 'Bethea, Erin', 'Becker, Carl', 'Bentsen, Lloyd', 'Beckett, Samuel', 'Blake, William', 'Berger, Ric', 'Beddoes, Mick', 'Beethoven, Ludwig',
      'Belloc, Hilaire', 'Begin, Menachem', 'Bellow, Saul', 'Benchley, Robert', 'Blair, Robert', 'Benenson, Peter', 'Benjamin, Walter', 'Berlin, Irving',
      'Benn, Tony', 'Benson, Leana', 'Bent, Silas', 'Berle, Milton', 'Berry, Halle', 'Biko, Steve', 'Beck, Glenn', 'Bergman, Ingmar', 'Black, Elk', 'Berio, Luciano',
      'Berne, Eric', 'Berra, Yogi', 'Berry, Wendell', 'Bevan, Aneurin', 'Ben-Gurion, David', 'Bevel, Ken', 'Biden, Joseph', 'Bennington, Chester', 'Bierce, Ambrose',
      'Billings, Josh', 'Birrell, Augustine', 'Blair, Tony', 'Beecher, Henry', 'Biondo, Frank'
    ];

    // Note: Javascript array functions are high level, they automatically do the heavy lifting for you 
    // What you have to pass in the parameter is most likely the conditions for the loop

    /*===========================================================================================================*/
    
    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's
    const fifteen = inventors.filter
    (
      // For arrow functions, it is totally normal to not use the curly bracket and return statement if the function has only one expression, again only for arrow functions, for normal functions, curly bracket is still needed.
      (inventor)=>(inventor.year >= 1500 && inventor.year < 1600)
    );

    console.table(fifteen);

    // Filter will return whatever the condition deem neccessary, so if you put in 10 items into the array, it might only return a few of them, or maybe all if all of them fit the filters

    /*===========================================================================================================*/

    // Array.prototype.map()
    // 2. Give us an array of the inventors first and last names
    const fullNames = inventors.map(inventor=> `${inventor.first} ${inventor.last}`);
    console.table(fullNames);

    // Map will get everything in the array and return a new array with the same number of items
    // So if you put in 10 items into the array, it will return 10 items

    /*===========================================================================================================*/


    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest
    const birthDates = inventors.sort((a,b)=>{
      // This is called a ternary, shorthand for if statement
      (a.year > b.year )? 1 : -1;
    });

    console.table(birthDates);

    // Sort will have two parameters, a and b, 
    // which is the two items in the array that are being compared
    // For this example,
    // If a is greater than b, it will return 1
    // If a is less than b, it will return -1
    // If a is equal to b, it will return 0

    // If 1, priotise a over b if necessary
    // If -1, priotise b over a if necessary
    // If 0, keep a and b in the same order

    // Js abstracts the sorting algorithm, just know that there is a sorting algorithm under the hood

    /*===========================================================================================================*/

    // Array.prototype.reduce()
    // 4. How many years did all the inventors live all together?

    const totalYear = inventors.reduce((total, inventor)=>{
      return total + (inventor.passed - inventor.year);
    }, 0);

    // Reduce squash an array into one final, single value

    console.log(totalYear);

    /*===========================================================================================================*/

    // 5. Sort the inventors by years lived

    const oldest = inventors.sort(function(a, b){
      const lastGuyAge = a.passed - a.year;
      const nextGuyAge = b.passed - b.year;

      return (lastGuyAge > nextGuyAge) ? -1 : 1;
    });

    console.table(oldest);

    /*===========================================================================================================*/

    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris

    // const category= document.querySelector('.mw-category');

    // Query selector will return a node list instead of an array by default, so need to convert it into an array
    // const links = Array.from(category.querySelectorAll("a"));


    // const de = links.map(link=>
    //   `${link.textContent}`)
    //   .filter(streetName => streetName.includes(`de`));    

    /*===========================================================================================================*/
    // 7. sort Exercise
    // Sort the people alphabetically by last name
    const alpha = people.sort((a, b)=>{

      // const parts = a.split(', '); will automatically structure it into an array, so we can destructure the array and make them into seperate variables like so:
      const [afirstPart, alastPart] = a.split(', ');

      const [bfirstPart, blastPart] = b.split(', ');

      return alastPart > blastPart ? 1 : -1;
    });

    console.table(alpha);

    /*===========================================================================================================*/
    // 8. Reduce Exercise
    // Sum up the instances of each of these
    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

    const transportationInstances = data.reduce((object, item)=>{
        if (!object[item]) 
        {
          object[item] = 0;
        }

        object[item]++;
        return object;
    }, {});

    // Note that this time the second paramter is "{}" instead of 0, meaning the "object" variable right now will be a dictionary, KVP like data type
    // By default the object is "{}"
    // When u put object[item], it will return the "value", which is an integer, according to the "key" (item)
    // lets say object["car"] = 0, will initialise the object {(car: 0)}, then object["car"] = 1, will return {(car: 1)}

    console.table(transportationInstances);

    /*===========================================================================================================*/

    // Testing area

    const dataNumbers = [0,0,1,2];

    const numberInstances = dataNumbers.reduce((total, item)=>{
      // let numberString = item.toString();
      if (!total[item]) 
      {
        total[item] = 0;
      }

      total[item]++;
      return total;
    },{})

    console.table(numberInstances);



  </script>
</body>
</html>
